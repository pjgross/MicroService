<!DOCTYPE html>
<html>
    <head>
        <title>Peter gross : Common code - how to handle?</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Peter gross</a></span>
                            </li>
                                                    <li>
                                <span><a href="MicroService-Learning-Journey---Story-so-far_956991180.html">MicroService Learning Journey - Story so far</a></span>
                            </li>
                                                    <li>
                                <span><a href="960542706.html">3) Design Considerations</a></span>
                            </li>
                                                    <li>
                                <span><a href="960553937.html">4) Standardise Some Implementation Requirements</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Peter gross : Common code - how to handle?
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Peter Gross</span>, last modified on Sep 13, 2020
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <div class="contentLayout2">
<div class="columnLayout three-with-sidebars" data-layout="three-with-sidebars">
<div class="cell sidebars" data-type="sidebars">
<div class="innerCell">
<p><br/></p></div>
</div>
<div class="cell normal" data-type="normal">
<div class="innerCell">
<p>I am looking at creating totally separate microservices that do not talk synchronously with one another, but there will be common functions used by each of the services, so how do we handle this?</p><p>The options I thought of:</p><p style="margin-left: 30.0px;">1) I could obviously copy the between the services, but this is just bad practice and was not even considered.</p><p style="margin-left: 30.0px;">2) I could use a git sub-modules to share the code, but everyone said this was a bad idea</p><p style="margin-left: 30.0px;">3) Since I am using NodeJS I could create my own npm module with the common code in it.</p><p><br/></p><p>I obviously went for creating my own npm module and pushed it to <a class="external-link" href="http://npmjs.com" rel="nofollow">npmjs.com</a> </p><p><a class="external-link" href="https://www.npmjs.com/package/@msexample/common" rel="nofollow">https://www.npmjs.com/package/@msexample/common</a></p><p><br/></p><p>In this common package I placed</p><ul><li>Common Error handlers, so all microservices are passing a common format back to the clients</li><li>Common express middleware functions</li><li>NAT Streaming event definitions to maintain consistency across all services</li></ul><p><br/></p><p>In the future I will most probably move the npm library to GitLab, but had a few issues getting it setup so anyone could access the module, so for this exercise I went with the simple option. </p></div>
</div>
<div class="cell sidebars" data-type="sidebars">
<div class="innerCell">
<p><br/></p></div>
</div>
</div>
</div>
                    </div>

                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Oct 17, 2020 17:15</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
